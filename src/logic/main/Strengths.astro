---
import { Image, getImage } from "astro:assets";
import type { CardBlueTitleProps } from "src/components/card-blue-title/CardBlueTitle.astro";
import CardBlueTitle from "src/components/card-blue-title/CardBlueTitle.astro";
import HorizontalLineTitle from "src/components/horizontal-line-title/HorizontalLineTitle.astro";
import card1 from "src/assets/images/card-background-1.png";
import card2 from "src/assets/images/card-background-2.png";
import card3 from "src/assets/images/card-background-3.png";
import card4 from "src/assets/images/card-background-4.png";
import card5 from "src/assets/images/card-background-5.png";
import "src/logic/main/Strengths.less";

const createBackground = async (image: ImageMetadata) => {
    const img = await getImage({ src: image });
    return `url(${img.src}) center/cover no-repeat`;
};

const strengths: CardBlueTitleProps[] = [
    {
        title: "Сертифицированные администраторы баз данных",
        description:
            "Обеспечат бесперебойную работу критичных систем, выполнят миграции без простоя и восстановят работоспособность после сбоев",
        background: await createBackground(card1),
    },
    {
        title: "Круглосуточный проактивный мониторинг баз данных и серверов",
        description:
            "Позволит предотвратить инциденты до того, как они скажутся на бизнес-процессах",
        background: await createBackground(card2),
    },
    {
        title: "Отказоустойчивость и автоматизация",
        description:
            "Проектируем отказоустойчивые решения, внедряем автоматизацию и DevOps для минимизации ошибок и простоев ИТ-инфраструктуры",
        background: await createBackground(card1),
    },
    {
        title: "Консультации по работе с базами данных и devops",
        description:
            "Проводим аудит баз данных и DevOps-процессов, помогаем с архитектурными решениями, оптимизацией производительности и внедрением CI/CD",
        background: await createBackground(card3),
    },
    {
        title: "Прозрачность работы",
        description:
            "Вся работа ведётся по SLA: вы получаете регулярные отчёты, доступ к базе знаний и техподдержку в выделенном чате с техническим менеджером",
        background: await createBackground(card4),
    },
    {
        title: "Привлечение экспертов",
        description:
            "В сложных случаях подключаем дополнительную экспертизу по ИТ инфраструктуре, безопасности и сетям",
        background: await createBackground(card5),
    },
];

/**
 * Компонент раздела "Сильные стороны".
 */
---

<HorizontalLineTitle
    title="СИЛЬНЫЕ СТОРОНЫ"
    className="strengths"
    contentClassName="strengths-content"
>
    {
        strengths.map(({ title, description, background }) => (
            <CardBlueTitle
                title={title}
                description={description}
                background={background}
            />
        ))
    }
</HorizontalLineTitle>
